<template>
    <div class="login">
      <component :is="toggle_com.component"></component>
        <svg style="position:absolute;bottom: 0;right: 0;z-index: 1;" t="1669387280965" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2129" width="250" height="250"><path d="M251.733333 985.6c68.266667 0 204.8-38.4 213.333334-217.6 12.8-179.2-123.733333-140.8-106.666667-256s34.133333-140.8-29.866667-217.6 0-93.866667-38.4-166.4S221.866667 34.133333 170.666667 34.133333s-34.133333 149.333333-93.866667 174.933334-68.266667 38.4-34.133333 136.533333 59.733333 110.933333 8.533333 162.133333-38.4 81.066667 4.266667 98.133334c42.666667 17.066667 106.666667 46.933333 42.666666 119.466666-64 72.533333-68.266667 106.666667 0 170.666667s59.733333 89.6 153.6 89.6z" fill="#a6f89c" p-id="2130" data-spm-anchor-id="a313x.7781069.0.i13" class=""></path><path d="M294.4 977.066667s-4.266667 0-4.266667-4.266667L183.466667 298.666667c0-4.266667 0-4.266667 4.266666-4.266667s4.266667 0 4.266667 4.266667L298.666667 972.8c0 4.266667 0 4.266667-4.266667 4.266667z" fill="#FFFFFF" p-id="2131"></path><path d="M226.133333 533.333333c-4.266667 0-4.266667-4.266667-4.266666-8.533333l72.533333-128s4.266667-4.266667 4.266667 0c0 0 4.266667 4.266667 0 4.266667l-72.533334 132.266666c4.266667 0 0 0 0 0zM243.2 644.266667L136.533333 597.333333c-4.266667 0-4.266667-4.266667-4.266666-4.266666 0-4.266667 4.266667-4.266667 4.266666-4.266667l102.4 46.933333c8.533333 0 8.533333 4.266667 4.266667 8.533334 4.266667 0 0 0 0 0zM268.8 797.866667c-4.266667 0-4.266667 0 0 0-4.266667 0-4.266667-4.266667-4.266667-8.533334l81.066667-132.266666s4.266667-4.266667 4.266667 0c0 0 4.266667 4.266667 0 4.266666l-81.066667 136.533334zM281.6 891.733333l-145.066667-68.266666c-4.266667 0-4.266667-4.266667 0-4.266667 0-4.266667 4.266667-4.266667 4.266667 0l140.8 68.266667c4.266667 0 4.266667 0 0 4.266666 4.266667 0 0 0 0 0z" fill="#FFFFFF" p-id="2132"></path><path d="M354.133333 985.6c59.733333 0 85.333333 12.8 115.2-55.466667 25.6-64 85.333333-68.266667 72.533334-119.466666-12.8-51.2-51.2-46.933333 0-136.533334s17.066667-153.6-8.533334-179.2c-25.6-25.6-29.866667-55.466667-34.133333-119.466666s-68.266667-55.466667-85.333333-29.866667c-17.066667 25.6-17.066667 110.933333-59.733334 145.066667-42.666667 34.133333-17.066667 89.6 8.533334 128s-17.066667 72.533333-51.2 93.866666c-34.133333 25.6-102.4 55.466667-81.066667 98.133334s25.6 174.933333 123.733333 174.933333z" fill="#6be5c2" p-id="2133" data-spm-anchor-id="a313x.7781069.0.i15" class=""></path><path d="M362.666667 985.6c-4.266667 0-4.266667-4.266667-4.266667-4.266667l89.6-426.666666c0-4.266667 4.266667-4.266667 4.266667-4.266667 4.266667 0 4.266667 4.266667 4.266666 4.266667L362.666667 985.6c4.266667-4.266667 4.266667 0 0 0z" fill="#FFFFFF" p-id="2134"></path><path d="M422.4 721.066667c-4.266667 0-4.266667 0 0 0-4.266667-4.266667-4.266667-4.266667-4.266667-8.533334l93.866667-98.133333h4.266667v4.266667l-93.866667 102.4zM384 900.266667c-4.266667 0-4.266667 0 0 0l-89.6-106.666667v-4.266667H298.666667L384 896c4.266667 0 4.266667 4.266667 0 4.266667z" fill="#FFFFFF" p-id="2135"></path><path d="M567.466667 968.533333c29.866667 0 51.2-29.866667 42.666666-59.733333-8.533333-34.133333-21.333333-17.066667-25.6 8.533333-4.266667 25.6 4.266667-12.8-21.333333-21.333333-25.6-4.266667 0 42.666667-8.533333 51.2-12.8 4.266667-29.866667-42.666667-46.933334-21.333333-17.066667 21.333333 21.333333 42.666667 59.733334 42.666666z" fill="#F44E4E" p-id="2136" data-spm-anchor-id="a313x.7781069.0.i21" class="selected"></path><path d="M763.733333 989.866667c42.666667 0 89.6-51.2 93.866667-85.333334 0-38.4-46.933333-34.133333-46.933333-51.2 0-17.066667 29.866667-17.066667 25.6-29.866666-4.266667-12.8-29.866667-17.066667-25.6-25.6s34.133333 4.266667 25.6-17.066667c-8.533333-25.6-25.6-12.8-12.8-42.666667s-25.6 0-12.8-25.6c12.8-29.866667 25.6-51.2 0-64s-21.333333 85.333333-29.866667 76.8c-12.8-4.266667-29.866667-12.8-34.133333 17.066667s17.066667 38.4-21.333334 42.666667c-34.133333 4.266667 12.8 55.466667-12.8 68.266666-25.6 12.8-59.733333 46.933333-29.866666 81.066667 25.6 29.866667 42.666667 55.466667 81.066666 55.466667z" fill="#FDC510" p-id="2137" data-spm-anchor-id="a313x.7781069.0.i20" class="selected"></path><path d="M763.733333 989.866667c-4.266667 0-4.266667-4.266667-4.266666-4.266667l25.6-234.666667c0-4.266667 4.266667-4.266667 4.266666-4.266666 4.266667 0 4.266667 4.266667 4.266667 4.266666l-25.6 234.666667s0 4.266667-4.266667 4.266667z" fill="#FFFFFF" p-id="2138"></path><path d="M768 951.466667s-4.266667 0 0 0c-4.266667-4.266667-4.266667-4.266667-4.266667-8.533334l59.733334-46.933333h4.266666v4.266667L768 951.466667zM776.533333 866.133333s-4.266667 0 0 0l-38.4-55.466666v-4.266667h4.266667l38.4 55.466667-4.266667 4.266666z" fill="#FFFFFF" p-id="2139"></path><path d="M955.733333 985.6s-17.066667 12.8-59.733333-8.533333c-42.666667-25.6-34.133333-46.933333-12.8-38.4s59.733333 55.466667 68.266667 42.666666-25.6-38.4-4.266667-64 8.533333 29.866667 17.066667 29.866667c4.266667 0 12.8-29.866667 21.333333-17.066667s-12.8 51.2-17.066667 55.466667c-8.533333 4.266667 4.266667 4.266667 25.6-4.266667 21.333333-12.8 25.6 12.8 4.266667 21.333334s-42.666667-17.066667-42.666667-17.066667z" fill="#A7ADFF" p-id="2140"></path></svg>
    </div>
  </template>

<script setup lang="ts">
import { onMounted, reactive } from '@vue/runtime-core'
import login from '../components/userInfo/login.vue'
import userinfo from '../components/userInfo/userinfo.vue'

let toggle_com:any = reactive({
  component:''
})

let haveUser:any = reactive({
  state:localStorage.getItem('user_id')!=null
})

onMounted(()=>{
  window.addEventListener('setItemEvent', () => {
    // console.log(localStorage.user_id,localStorage.userName)
    if(localStorage.getItem('user_id') === null){
      console.log(123)
    }else{
      console.log(456)
    }
  })
  if(haveUser.state){
    //设置注销组件
    toggle_com.component = userinfo
  }else{
    //设置登录组件
    toggle_com.component = login
  }
})
</script>
  <style lang="less" scoped>
  .login{
    width: 850px;
    height: calc(100vh - 30px);
    float: left;
    position: relative;
    box-sizing: border-box;
    padding-left: 10px;
    
  }
  
  </style>